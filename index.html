<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do ë¦¬ìŠ¤íŠ¸</title>
    <!-- TailwindCSS ë° Material Icons ë¡œë“œ -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        /* ì™„ë£Œëœ í•  ì¼ì— ì ìš©í•  ìŠ¤íƒ€ì¼ (ì·¨ì†Œì„ , íšŒìƒ‰, íˆ¬ëª…ë„ ì¡°ì •) */
        .completed {
            text-decoration: line-through;
            color: gray;
            opacity: 0.6;
            transition: all 0.3s ease-in-out;
        }
        /* ë‚ ì§œ ì…ë ¥ í•„ë“œì˜ ìº˜ë¦°ë” ì•„ì´ì½˜ ìŠ¤íƒ€ì¼ */
        input[type="date"]::-webkit-calendar-picker-indicator {
            filter: invert(0.5);
            cursor: pointer;
        }
        /* ëª¨ë‹¬ ì°½ ìŠ¤íƒ€ì¼ */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5); /* ë°°ê²½ íë¦¼ íš¨ê³¼ */
            display: none; /* ì²˜ìŒì—” ë³´ì´ì§€ ì•Šë„ë¡ ì„¤ì • */
            justify-content: center; /* í™”ë©´ ì¤‘ì•™ ì •ë ¬ */
            align-items: center;
        }
        /* ëª¨ë‹¬ ë‚´ìš© ë¶€ë¶„ ìŠ¤íƒ€ì¼ */
        .modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 400px;
            text-align: center;
        }
    </style>
</head>
<body class="bg-gradient-to-r from-purple-200 to-blue-200 flex flex-col items-center justify-center min-h-screen font-sans p-4">
    <header class="mb-6 text-center">
        <h1 class="text-3xl font-bold text-gray-800">ğŸ“Œ To-Do ë¦¬ìŠ¤íŠ¸</h1>
    </header>
    
    <div class="container bg-white p-6 rounded-lg shadow-lg w-full max-w-md">
        <div class="mb-4">
            <!-- í•  ì¼ ì…ë ¥ í•„ë“œ -->
            <input type="text" id="taskInput" class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="í•  ì¼ì„ ì…ë ¥í•˜ì„¸ìš”...">
            <label for="taskDate" class="block mt-3 text-gray-800 font-bold text-lg">ğŸ“… ì–¸ì œê¹Œì§€ ì™„ë£Œí• ê¹Œìš”?</label>
            <!-- ë‚ ì§œ ì„ íƒ í•„ë“œ -->
            <div class="relative">
                <input type="date" id="taskDate" class="w-full p-3 mt-1 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white text-gray-800">
            </div>
            <!-- í•  ì¼ ì¶”ê°€ ë²„íŠ¼ -->
            <button id="addTaskBtn" class="w-full mt-3 bg-blue-500 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition duration-300">âœ… ì¶”ê°€</button>
        </div>
        
        <h2 class="text-lg font-bold text-gray-800 mt-6">ğŸ“‹ List</h2>
        <!-- í•  ì¼ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥ ë¶€ë¶„ -->
        <ul id="taskList" class="space-y-3 mt-2"></ul>
    </div>

    <!-- ì‚­ì œ í™•ì¸ ëª¨ë‹¬ íŒì—… -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <h2 class="text-xl text-gray-800">í•  ì¼ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</h2>
            <div class="mt-4">
                <!-- ì‚­ì œ í™•ì¸ ë²„íŠ¼ -->
                <button id="confirmDelete" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-300">ì‚­ì œ</button>
                <!-- ì‚­ì œ ì·¨ì†Œ ë²„íŠ¼ -->
                <button id="cancelDelete" class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition duration-300 ml-4">ì·¨ì†Œ</button>
            </div>
        </div>
    </div>
    
    <footer class="mt-6 text-gray-600 text-sm">by runbulid</footer>
    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // HTML ìš”ì†Œë“¤ ë³€ìˆ˜ì— ì €ì¥
            const taskInput = document.getElementById("taskInput");
            const taskDate = document.getElementById("taskDate");
            const addTaskBtn = document.getElementById("addTaskBtn");
            const taskList = document.getElementById("taskList");
            const modal = document.getElementById("modal");
            const confirmDeleteBtn = document.getElementById("confirmDelete");
            const cancelDeleteBtn = document.getElementById("cancelDelete");
            let taskToDelete = null; // ì‚­ì œí•  í•­ëª© ì €ì¥ ë³€ìˆ˜

            // ì˜¤ëŠ˜ ë‚ ì§œë¥¼ ìµœì†Œ ë‚ ì§œë¡œ ì„¤ì •
            const today = new Date().toISOString().split("T")[0];
            taskDate.setAttribute("min", today);

            // "ì¶”ê°€" ë²„íŠ¼ í´ë¦­ ì‹œ í•  ì¼ ì¶”ê°€
            addTaskBtn.addEventListener("click", function () {
                // ì…ë ¥ê°’ì´ ë¹„ì–´ ìˆìœ¼ë©´ ì¶”ê°€í•˜ì§€ ì•ŠìŒ
                if (taskInput.value.trim() === "" || taskDate.value === "") return;

                // ìƒˆë¡œìš´ í•  ì¼ í•­ëª© ìƒì„±
                const li = document.createElement("li");
                li.classList.add("flex", "items-center", "justify-between", "p-3", "border", "rounded-lg", "bg-gray-100", "shadow-sm");

                const checkbox = document.createElement("input");
                checkbox.type = "checkbox";
                checkbox.classList.add("mr-3", "cursor-pointer");

                const taskText = document.createElement("span");
                taskText.textContent = taskInput.value;
                taskText.classList.add("flex-1", "text-gray-800", "transition-all", "duration-300");

                const dateSpan = document.createElement("span");
                dateSpan.textContent = `ğŸ“… ${taskDate.value}`;
                dateSpan.classList.add("text-sm", "text-gray-500", "ml-3");

                const deleteBtn = document.createElement("button");
                deleteBtn.innerHTML = "<span class='material-icons text-red-500 cursor-pointer'>delete</span>";
                deleteBtn.addEventListener("click", function () {
                    taskToDelete = li; // ì‚­ì œí•  í•­ëª© ì €ì¥
                    modal.style.display = "flex"; // ëª¨ë‹¬ ë³´ì´ê¸°
                });

                // ì²´í¬ë°•ìŠ¤ë¥¼ í´ë¦­í•˜ë©´ ì™„ë£Œ í‘œì‹œ
                checkbox.addEventListener("change", function () {
                    if (checkbox.checked) {
                        taskText.classList.add("completed");
                    } else {
                        taskText.classList.remove("completed");
                    }
                });

                // í•  ì¼ í•­ëª©ì„ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
                li.appendChild(checkbox);
                li.appendChild(taskText);
                li.appendChild(dateSpan);
                li.appendChild(deleteBtn);

                taskList.appendChild(li);

                // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
                taskInput.value = "";
                taskDate.value = "";

                // ì¶”ê°€ í›„ íŒì—… ì•Œë¦¼
                alert("Listì— ì¶”ê°€í•˜ì˜€ìŠµë‹ˆë‹¤.");
            });

            // ì‚­ì œ í™•ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ
            confirmDeleteBtn.addEventListener("click", function () {
                if (taskToDelete) {
                    taskList.removeChild(taskToDelete); // í•­ëª© ì‚­ì œ
                    taskToDelete = null;
                    modal.style.display = "none"; // ëª¨ë‹¬ ìˆ¨ê¸°ê¸°
                    alert("í•  ì¼ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
                }
            });

            // ì‚­ì œ ì·¨ì†Œ ë²„íŠ¼ í´ë¦­ ì‹œ
            cancelDeleteBtn.addEventListener("click", function () {
                taskToDelete = null;
                modal.style.display = "none"; // ëª¨ë‹¬ ìˆ¨ê¸°ê¸°
            });
        });
    </script>
</body>
</html>
